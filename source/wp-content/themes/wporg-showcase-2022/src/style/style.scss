/*
 * Note: only add styles here in cases where you can't achieve the style with
 * templates or theme.json settings.
 */

/*
 * Block styles.
 */

/*
 * core/pull.
 */

.wp-block-quote {
	margin-left: 0;
	border-width: 0 0 0 1px;
}

/*
 * core/search.
 */

.is-style-secondary-search-control {
	display: flex;
	align-items: center;
}

.is-style-secondary-search-control > label {
	flex: 0;
	font-size: var(--wp--preset--font-size--extra-small) !important;
	padding-right: var(--wp--preset--spacing--10) !important;
}

.is-style-secondary-search-control input[type="search"] {
	border: none !important;
	font-size: var(--wp--preset--font-size--extra-small) !important;
	padding: 0 var(--wp--preset--spacing--10) !important;
}

.wp-block-search__no-button.is-style-secondary-search-control input[type="search"] {
	min-height: var(--wp--preset--spacing--40);
	border: 1px solid var(--wp--preset--color--charcoal-1) !important;
}

.wp-block-search__button-inside.is-style-secondary-search-control .wp-block-search__inside-wrapper {
	border: 1px solid var(--wp--preset--color--charcoal-1) !important;
	border-radius: 2px !important;
}

.wp-block-search__button-outside.is-style-secondary-search-control input[type="search"] {
	border: 1px solid var(--wp--preset--color--charcoal-1) !important;
	border-radius: 2px !important;
}

.wp-block-search__button-outside.is-style-secondary-search-control button[type="submit"] {
	border: 1px solid var(--wp--preset--color--charcoal-1) !important;
}

.is-style-secondary-search-control button[type="submit"] {
	background-color: transparent !important;
	color: var(--wp--preset--color--charcoal-1) !important;
}

.is-style-secondary-search-control button[type="submit"] svg {
	fill: var(--wp--preset--color--charcoal-1) !important;
}

.wp-block-search__icon-button.is-style-secondary-search-control button[type="submit"] {
	padding: calc(var(--wp--preset--spacing--10) / 2) !important;
}

.wp-block-search__text-button.is-style-secondary-search-control button[type="submit"] {
	border: 1px solid var(--wp--preset--color--charcoal-1) !important;
	font-size: var(--wp--preset--font-size--extra-small) !important;
	padding: var(--wp--preset--spacing--10) !important;
}

.wp-block-search__button-inside.is-style-secondary-search-control
button[type="submit"] {
	margin: 2px;
}

/*
 * core/post-template.
 */

/**
 * Manually modify Post Template grid gap.
 * See: https://github.com/WordPress/gutenberg/issues/44899
 **/

.wp-block-post-template.is-flex-container {
	gap: var(--wp--preset--spacing--50);
}

@media (min-width: 600px) {
	.wp-block-post-template.is-flex-container.is-flex-container.columns-2 > li {
		width: calc((100% / 2) - var(--wp--preset--spacing--50) + ( var(--wp--preset--spacing--50) / 2));
	}
}

/*
 * Related Posts Styles
 */

.wp-block-jetpack-related-posts {

	@media (min-width: 641px) {
		margin-left: -10px;
		margin-right: -10px;

		/*
		* Remove after Jetpack PR is merged.
		* See: https://github.com/Automattic/jetpack/pull/27228
		*/

		.jp-related-posts-i2__row[data-post-count="3"] .jp-related-posts-i2__post {
			max-width: calc(33.333333% - 20px);
		}
	}

	.jp-related-posts-i2__post-img-link img {
		width: 100%;
		border: 1px solid var(--wp--preset--color--light-grey-1);
	}

	.jp-related-posts-i2__post-link a {
		display: block;
		color: var(--wp--preset--color--charcoal-1);
	}
}

// 760 = (--wp--style--global--content-size, 680px) + (2 * --wp--preset--spacing--60, which at ~700 is 40px).
@media (max-width: 760px) {
	// Add space to the left & right of blocks as long as they're not pulled out
	// of the content by left, right, wide, or full alignment.
	body .is-layout-constrained > *:not(.alignleft):not(.alignright):not(.alignfull) {
		margin-left: var(--wp--preset--spacing--60) !important;
		margin-right: var(--wp--preset--spacing--60) !important;
	}
}

// It doesn't have to be super accurate,
// but it has to be larger than --wp--style--global--wide-size + ( padding * 2 );
@media (max-width: 1306px) {
	body .is-layout-constrained > .alignwide {
		margin-left: var(--wp--preset--spacing--60) !important;
		margin-right: var(--wp--preset--spacing--60) !important;
	}
}

@media (max-width: 600px) {
	.wporg-results-bar-container {
		flex-direction: column;
	}

	.wporg-results-bar-container > * {
		width: 100%;
	}

	.wporg-results-bar-container > *:first-child {
		order: 2;
	}

	.wporg-results-bar-container > *:last-child {
		order: 1;
	}
}
